(()=>{"use strict";const e=["a","b","c","d","e","f","g"],s=e.map((e=>e.toUpperCase())),t=["1","2","3","4"],o=["!","@","#","$","-","_"];class r{symbolsToUse=[];symbolsToNotUse=[];length=16;constructor(s=16,o=[],r=[]){this.setLength(s),o.lenth?this.useSymbols(o):(this.useSymbols(e),this.useSymbols(t)),r.lenth&&this.doNotUseSymbols(r)}reset(){this.setLength(4),this.setSymbolsToUse([]),this.setSymbolsToNotUse([])}setSymbolsToUse(e){this.symbolsToUse=e}setSymbolsToNotUse(e){this.symbolsToNotUse=e}setLength(e){this.length=e}useSymbols(e){this.symbolsToUse=[...new Set(this.symbolsToUse.concat(e))]}doNotUseSymbols(e){this.symbolsToNotUse=[...new Set(this.symbolsToNotUse.concat(e))]}calcSymbolsToUse(){return this.symbolsToUse.filter((e=>!this.symbolsToNotUse.includes(e)))}build(){if(this.length<1||!this.symbolsToUse.length)return"";let e="";const s=this.calcSymbolsToUse();for(let t=1;t<=this.length;t++)e+=this.getRandomSymbol(s);return e}getRandomSymbol(e){return e[Math.floor(Math.random()*e.length)]}}class i{holder=null;constructor(e){this.holder=e}setPassword(e){this.holder.innerHTML=e}getPasswordText(){return this.holder.innerHTML}}class n{button=null;passwordBuilder=null;passwordAsText=null;constructor(e,s,t){this.button=e,this.passwordBuilder=s,this.passwordAsText=t,this.button.onclick=()=>this.passwordAsText.setPassword(this.passwordBuilder.build())}}class l{static copy(e){let s=document.createElement("input");s.value=e,s.select(),s.setSelectionRange(0,99999),navigator.clipboard.writeText(s.value),s.remove()}}class h{button=null;toCopySymbol="⎘";copiedSymbol="✅";passwordAsText=null;constructor(e,s){this.button=e,this.passwordAsText=s,this.button.innerHTML=this.toCopySymbol,this.button.onclick=()=>this.copy()}copy(){l.copy(this.passwordAsText.getPasswordText()),this.button.innerHTML=this.copiedSymbol,setTimeout((()=>{this.button.innerHTML=this.toCopySymbol}),500)}}class a{otterElement=null;passwordAsText=null;passwordBuilder=null;renewButton=null;constructor(e,s){this.passwordBuilder=s,this.otterElement=e,this.passwordAsText=new i(this.otterElement.querySelector(".password-as-text")),this.renewButton=new n(this.otterElement.querySelector(".renew"),this.passwordBuilder,this.passwordAsText),this.renewButton=new h(this.otterElement.querySelector(".copy"),this.passwordAsText)}setPassword(e){this.passwordAsText.setPassword(e)}renew(){this.passwordAsText.setPassword(this.passwordBuilder.build())}}class u extends r{setsToUse=[];constructor(){super()}reset(){super.reset(),this.setsToUse=[]}useSymbolsSet(e){this.setsToUse.includes(e)||this.setsToUse.push(e)}doNotUseSymbolsSet(e){this.setsToUse.includes(e)&&this.setsToUse.splice(this.setsToUse.indexOf(e),1)}build(){if(!this.setsToUse.length||this.length<1)return"";let e=[];for(let s=0;s<this.length;s++)e.push(this.getRandomSet().getRandomSymbol());let s=[];if(e.map(((e,t)=>{s.push(t)})),this.setsToUse.length)for(;s.length;)this.setsToUse.map((t=>{if(s.length<1)return;s=s.sort((()=>Math.random()-.5));let o=s[0];s.splice(0,1);let r=t.getRandomSymbol();e[o]=r,console.log(t.name,o+1,r)}));return e.join("")}getRandomIndex(e){return e[Math.floor(Math.random()*e.length)]}getRandomSet(){return this.setsToUse[Math.floor(Math.random()*this.setsToUse.length)]}}class d{name="";items=[];constructor(e,s=[]){this.name=e,this.items=s}getName(){return this.name()}getRandomSymbol(){return this.items.length?this.items[Math.floor(Math.random()*this.items.length)]:""}}class c{element=null;constructor(e){this.element=e,this.element.addEventListener("click",(()=>{this.toggle(),this.element.dispatchEvent(new Event("changed"))}))}getElement(){return this.element}markActive(){this.element.classList.add("active")}markInactive(){this.element.classList.remove("active")}active(){return this.element.classList.contains("active")}toggle(){this.active()?this.markInactive():this.markActive()}}class p{element=null;passwordGeneratorUi=null;constructor(e,s){this.element=e,this.passwordGeneratorUi=s,this.setLength(this.passwordGeneratorUi.passwordGenerator.defaultLength),this.element.addEventListener("change",(()=>{this.passwordGeneratorUi.passwordGenerator.passwordBuilder.setLength(this.element.value),this.passwordGeneratorUi.passwordGenerator.mainPassword.setPassword(this.passwordGeneratorUi.passwordGenerator.passwordBuilder.build())}))}setLength(e){this.element.value=e}getElement(){return this.element}}class m{element=null;passwordGeneratorUi=null;constructor(e,s){this.element=e,this.passwordGeneratorUi=s,this.element.onclick=()=>{const e=this.element.innerHTML;this.passwordGeneratorUi.passwordGenerator.passwordBuilder.setLength(e),this.passwordGeneratorUi.controls.length.setLength(e),this.passwordGeneratorUi.passwordGenerator.mainPassword.renew()}}}window.passwordGenerator=new class{passwordBuilder=null;mainPassword=null;defaultLength=5;useLowerByDefault=!0;useUpperByDefault=!1;useNumbersByDefault=!1;useSpecialByDefault=!1;useLower=null;useUpper=null;useNumbers=null;useSpecial=null;setOfLower=new d("lower-set",e);setOfUpper=new d("upper-set",s);setOfNumbers=new d("numbers-set",t);setOfSpecial=new d("special-set",o);constructor(){this.passwordBuilder=new u,this.passwordBuilder.setLength(this.defaultLength),this.mainPassword=new a(document.querySelector(".main-password"),this.passwordBuilder),this.useLower=new c(document.querySelector(".use-lower")),this.useUpper=new c(document.querySelector(".use-upper")),this.useNumbers=new c(document.querySelector(".use-numbers")),this.useSpecial=new c(document.querySelector(".use-special")),this.useLowerByDefault?this.useLower.markActive():this.useLower.markInactive(),this.useLower.getElement().addEventListener("click",(()=>{this.updateSetsToUse(),this.mainPassword.renew()})),this.useUpperByDefault?this.useUpper.markActive():this.useUpper.markInactive(),this.useUpper.getElement().addEventListener("click",(()=>{this.updateSetsToUse(),this.mainPassword.renew()})),this.useNumbersByDefault?this.useNumbers.markActive():this.useNumbers.markInactive(),this.useNumbers.getElement().addEventListener("click",(()=>{this.updateSetsToUse(),this.mainPassword.renew()})),this.useSpecialByDefault?this.useSpecial.markActive():this.useSpecial.markInactive(),this.useSpecial.getElement().addEventListener("click",(()=>{this.updateSetsToUse(),this.mainPassword.renew()})),this.updateSetsToUse(),this.mainPassword.renew()}updateSetsToUse(){this.useLower.active()?this.passwordBuilder.useSymbolsSet(this.setOfLower):this.passwordBuilder.doNotUseSymbolsSet(this.setOfLower),this.useUpper.active()?this.passwordBuilder.useSymbolsSet(this.setOfUpper):this.passwordBuilder.doNotUseSymbolsSet(this.setOfUpper),this.useNumbers.active()?this.passwordBuilder.useSymbolsSet(this.setOfNumbers):this.passwordBuilder.doNotUseSymbolsSet(this.setOfNumbers),this.useSpecial.active()?this.passwordBuilder.useSymbolsSet(this.setOfSpecial):this.passwordBuilder.doNotUseSymbolsSet(this.setOfSpecial)}},window.passwordGeneratorUi=new class{root=null;passwordGenerator=null;controls={length:null,predefinedLength4:null,predefinedLength8:null,predefinedLength12:null,predefinedLength16:null,predefinedLength24:null,predefinedLength32:null};constructor(e,s){this.root=e,this.passwordGenerator=s,this.controls.length=new p(this.root.querySelector(".set-length"),this),this.controls.predefinedLength4=new m(this.root.querySelector(".pl4"),this),this.controls.predefinedLength8=new m(this.root.querySelector(".pl8"),this),this.controls.predefinedLength12=new m(this.root.querySelector(".pl12"),this),this.controls.predefinedLength16=new m(this.root.querySelector(".pl16"),this),this.controls.predefinedLength24=new m(this.root.querySelector(".pl24"),this),this.controls.predefinedLength32=new m(this.root.querySelector(".pl32"),this)}}(document.getElementById("password-generator"),window.passwordGenerator)})();