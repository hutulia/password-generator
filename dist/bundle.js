(()=>{"use strict";const e=["a","b","c","d","e","f","g"],t=e.map((e=>e.toUpperCase())),s=["1","2","3","4"],i=["!","@","#","$","-","_"];class l{symbolsToUse=[];symbolsToNotUse=[];length=16;constructor(t=16,i=[],l=[]){this.setLength(t),i.lenth?this.useSymbols(i):(this.useSymbols(e),this.useSymbols(s)),l.lenth&&this.doNotUseSymbols(l)}reset(){this.setLength(4),this.setSymbolsToUse([]),this.setSymbolsToNotUse([])}setSymbolsToUse(e){this.symbolsToUse=e}setSymbolsToNotUse(e){this.symbolsToNotUse=e}setLength(e){this.length=e}useSymbols(e){this.symbolsToUse=[...new Set(this.symbolsToUse.concat(e))]}doNotUseSymbols(e){this.symbolsToNotUse=[...new Set(this.symbolsToNotUse.concat(e))]}calcSymbolsToUse(){return this.symbolsToUse.filter((e=>!this.symbolsToNotUse.includes(e)))}build(){if(this.length<1||!this.symbolsToUse.length)return"";let e="";const t=this.calcSymbolsToUse();for(let s=1;s<=this.length;s++)e+=this.getRandomSymbol(t);return e}getRandomSymbol(e){return e[Math.floor(Math.random()*e.length)]}}class n{holder=null;constructor(e){this.holder=e}setPassword(e){this.holder.innerHTML=e}getPasswordText(){return this.holder.innerHTML}}class r{button=null;passwordBuilder=null;passwordAsText=null;constructor(e,t,s){this.button=e,this.passwordBuilder=t,this.passwordAsText=s,this.button.addEventListener("click",(()=>{this.passwordAsText.setPassword(this.passwordBuilder.build())}))}}class o{button=null;toCopySymbol="⎘";copiedSymbol="✅";passwordAsText=null;constructor(e,t){this.button=e,this.passwordAsText=t,this.button.innerHTML=this.toCopySymbol,this.button.addEventListener("click",(()=>{this.copy()}))}copy(){let e=document.createElement("input");e.value=this.passwordAsText.getPasswordText(),e.select(),e.setSelectionRange(0,99999),navigator.clipboard.writeText(e.value),e.remove(),this.button.innerHTML=this.copiedSymbol,setTimeout((()=>{this.button.innerHTML=this.toCopySymbol}),500)}}class a{otterElement=null;passwordAsText=null;passwordBuilder=null;renewButton=null;constructor(e,t){this.passwordBuilder=t,this.otterElement=e,this.passwordAsText=new n(this.otterElement.querySelector(".password-as-text")),this.renewButton=new r(this.otterElement.querySelector(".renew"),this.passwordBuilder,this.passwordAsText),this.renewButton=new o(this.otterElement.querySelector(".copy"),this.passwordAsText)}setPassword(e){this.passwordAsText.setPassword(e)}renew(){this.passwordAsText.setPassword(this.passwordBuilder.build())}}class h{element=null;constructor(e){this.element=e}setLength(e){this.element.value=e}getElement(){return this.element}}class c{element=null;constructor(e){this.element=e,this.element.addEventListener("click",(()=>{this.toggle(),this.element.dispatchEvent(new Event("changed"))}))}getElement(){return this.element}markActive(){this.element.classList.add("active")}markInactive(){this.element.classList.remove("active")}active(){return this.element.classList.contains("active")}toggle(){this.active()?this.markInactive():this.markActive()}}class u{element=null;constructor(e){this.element=e,this.element.addEventListener("click",(()=>{this.toggle(),this.element.dispatchEvent(new Event("changed"))}))}getElement(){return this.element}markActive(){this.element.classList.add("active")}markInactive(){this.element.classList.remove("active")}active(){return this.element.classList.contains("active")}toggle(){this.active()?this.markInactive():this.markActive()}}class d{element=null;constructor(e){this.element=e,this.element.addEventListener("click",(()=>{this.toggle(),this.element.dispatchEvent(new Event("changed"))}))}getElement(){return this.element}markActive(){this.element.classList.add("active")}markInactive(){this.element.classList.remove("active")}active(){return this.element.classList.contains("active")}toggle(){this.active()?this.markInactive():this.markActive()}}class m{element=null;constructor(e){this.element=e,this.element.addEventListener("click",(()=>{this.toggle(),this.element.dispatchEvent(new Event("changed"))}))}getElement(){return this.element}markActive(){this.element.classList.add("active")}markInactive(){this.element.classList.remove("active")}active(){return this.element.classList.contains("active")}toggle(){this.active()?this.markInactive():this.markActive()}}window.passwordGeneratorApp=new class{passwordBuilder=null;mainPassword=null;setLength=null;defaultLength=8;useLowerByDefault=!0;useUpperByDefault=!1;useNumbersByDefault=!1;useSpecialByDefault=!1;useLower=null;useUpper=null;useNumbers=null;useSpecial=null;constructor(){this.passwordBuilder=new l,this.setLength=new h(document.querySelector(".set-length")),this.mainPassword=new a(document.querySelector(".main-password"),this.passwordBuilder),this.useLower=new c(document.querySelector(".use-lower")),this.useUpper=new u(document.querySelector(".use-upper")),this.useNumbers=new d(document.querySelector(".use-numbers")),this.useSpecial=new m(document.querySelector(".use-special")),this.passwordBuilder.setLength(this.defaultLength),this.setLength.setLength(this.defaultLength),this.setLength.getElement().addEventListener("change",(()=>{console.log("length changed"),this.passwordBuilder.setLength(this.setLength.getElement().value),this.mainPassword.setPassword(this.passwordBuilder.build())})),document.querySelectorAll(".predefined-length").forEach((e=>{e.addEventListener("click",(()=>{const t=e.innerHTML;this.passwordBuilder.setLength(t),this.setLength.setLength(t),this.mainPassword.renew()}))})),this.useLowerByDefault?this.useLower.markActive():this.useLower.markInactive(),this.useLower.getElement().addEventListener("click",(()=>{this.passwordBuilder.setSymbolsToUse(this.calcSymbolsForPasswordBuilderToUse()),this.mainPassword.renew()})),this.useUpperByDefault?this.useUpper.markActive():this.useUpper.markInactive(),this.useUpper.getElement().addEventListener("click",(()=>{this.passwordBuilder.setSymbolsToUse(this.calcSymbolsForPasswordBuilderToUse()),this.mainPassword.renew()})),this.useNumbersByDefault?this.useNumbers.markActive():this.useNumbers.markInactive(),this.useNumbers.getElement().addEventListener("click",(()=>{this.passwordBuilder.setSymbolsToUse(this.calcSymbolsForPasswordBuilderToUse()),this.mainPassword.renew()})),this.useSpecialByDefault?this.useSpecial.markActive():this.useSpecial.markInactive(),this.useSpecial.getElement().addEventListener("click",(()=>{this.passwordBuilder.setSymbolsToUse(this.calcSymbolsForPasswordBuilderToUse()),this.mainPassword.renew()})),this.passwordBuilder.setSymbolsToUse(this.calcSymbolsForPasswordBuilderToUse()),this.mainPassword.renew()}calcSymbolsForPasswordBuilderToUse(){let l=[];return this.useLower.active()&&(l=l.concat(e)),this.useUpper.active()&&(l=l.concat(t)),this.useNumbers.active()&&(l=l.concat(s)),this.useSpecial.active()&&(l=l.concat(i)),l}}})();