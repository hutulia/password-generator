(()=>{"use strict";const e=["a","b","c","d","e","f","g"],t=e.map((e=>e.toUpperCase())),s=["1","2","3","4"],i=["!","@","#","$","-","_"];class n{symbolsToUse=[];symbolsToNotUse=[];length=16;constructor(t=16,i=[],n=[]){this.setLength(t),i.lenth?this.useSymbols(i):(this.useSymbols(e),this.useSymbols(s)),n.lenth&&this.doNotUseSymbols(n)}reset(){this.setLength(4),this.setSymbolsToUse([]),this.setSymbolsToNotUse([])}setSymbolsToUse(e){this.symbolsToUse=e}setSymbolsToNotUse(e){this.symbolsToNotUse=e}setLength(e){this.length=e}useSymbols(e){this.symbolsToUse=[...new Set(this.symbolsToUse.concat(e))]}doNotUseSymbols(e){this.symbolsToNotUse=[...new Set(this.symbolsToNotUse.concat(e))]}calcSymbolsToUse(){return this.symbolsToUse.filter((e=>!this.symbolsToNotUse.includes(e)))}build(){if(this.length<1||!this.symbolsToUse.length)return"";let e="";const t=this.calcSymbolsToUse();for(let s=1;s<=this.length;s++)e+=this.getRandomSymbol(t);return e}getRandomSymbol(e){return e[Math.floor(Math.random()*e.length)]}}class o{holder=null;constructor(e){this.holder=e}setPassword(e){this.holder.innerHTML=e}getPasswordText(){return this.holder.innerHTML}}class l{button=null;passwordBuilder=null;passwordAsText=null;constructor(e,t,s){this.button=e,this.passwordBuilder=t,this.passwordAsText=s,this.button.addEventListener("click",(()=>{this.passwordAsText.setPassword(this.passwordBuilder.build())}))}}class r{button=null;toCopySymbol="⎘";copiedSymbol="✅";passwordAsText=null;constructor(e,t){this.button=e,this.passwordAsText=t,this.button.innerHTML=this.toCopySymbol,this.button.addEventListener("click",(()=>{this.copy()}))}copy(){let e=document.createElement("input");e.value=this.passwordAsText.getPasswordText(),e.select(),e.setSelectionRange(0,99999),navigator.clipboard.writeText(e.value),e.remove(),this.button.innerHTML=this.copiedSymbol,setTimeout((()=>{this.button.innerHTML=this.toCopySymbol}),500)}}class a{otterElement=null;passwordAsText=null;passwordBuilder=null;renewButton=null;constructor(e,t){this.passwordBuilder=t,this.otterElement=e,this.passwordAsText=new o(this.otterElement.querySelector(".password-as-text")),this.renewButton=new l(this.otterElement.querySelector(".renew"),this.passwordBuilder,this.passwordAsText),this.renewButton=new r(this.otterElement.querySelector(".copy"),this.passwordAsText)}setPassword(e){this.passwordAsText.setPassword(e)}renew(){this.passwordAsText.setPassword(this.passwordBuilder.build())}}class h{element=null;constructor(e){this.element=e}setLength(e){this.element.value=e}getElement(){return this.element}}class u{element=null;constructor(e){this.element=e,this.element.addEventListener("click",(()=>{this.toggle(),this.element.dispatchEvent(new Event("changed"))}))}getElement(){return this.element}markActive(){this.element.classList.add("active")}markInactive(){this.element.classList.remove("active")}active(){return this.element.classList.contains("active")}toggle(){this.active()?this.markInactive():this.markActive()}}class c{element=null;constructor(e){this.element=e,this.element.addEventListener("click",(()=>{this.toggle(),this.element.dispatchEvent(new Event("changed"))}))}getElement(){return this.element}markActive(){this.element.classList.add("active")}markInactive(){this.element.classList.remove("active")}active(){return this.element.classList.contains("active")}toggle(){this.active()?this.markInactive():this.markActive()}}class m{element=null;constructor(e){this.element=e,this.element.addEventListener("click",(()=>{this.toggle(),this.element.dispatchEvent(new Event("changed"))}))}getElement(){return this.element}markActive(){this.element.classList.add("active")}markInactive(){this.element.classList.remove("active")}active(){return this.element.classList.contains("active")}toggle(){this.active()?this.markInactive():this.markActive()}}class d{element=null;constructor(e){this.element=e,this.element.addEventListener("click",(()=>{this.toggle(),this.element.dispatchEvent(new Event("changed"))}))}getElement(){return this.element}markActive(){this.element.classList.add("active")}markInactive(){this.element.classList.remove("active")}active(){return this.element.classList.contains("active")}toggle(){this.active()?this.markInactive():this.markActive()}}class p extends n{setsToUse=[];constructor(){super()}reset(){super.reset(),this.setsToUse=[]}useSymbolsSet(e){this.setsToUse.includes(e)||this.setsToUse.push(e)}doNotUseSymbolsSet(e){this.setsToUse.includes(e)&&this.setsToUse.splice(this.setsToUse.indexOf(e),1)}build(){if(!this.setsToUse.length||this.length<1)return"";let e=[];for(let t=0;t<this.length;t++)e.push(this.getRandomSet().getRandomSymbol());let t=[];if(e.map(((e,s)=>{t.push(s)})),this.setsToUse.length)for(;t.length;)this.setsToUse.sort((()=>Math.random()-.5)),this.setsToUse.map((s=>{if(t.length<1)return;t=t.sort((()=>Math.random()-.5));let i=t[0],n=s.getRandomSymbol();e[i]=n,t.splice(0,1),console.log(s.name,i+1,n)}));return e.join("")}getRandomIndex(e){return e[Math.floor(Math.random()*e.length)]}getRandomSet(){return this.setsToUse[Math.floor(Math.random()*this.setsToUse.length)]}}class w{name="";items=[];constructor(e,t=[]){this.name=e,this.items=t}getName(){return this.name()}getRandomSymbol(){return this.items.length?this.items[Math.floor(Math.random()*this.items.length)]:""}}window.passwordGeneratorApp=new class{passwordBuilder=null;mainPassword=null;setLength=null;defaultLength=8;useLowerByDefault=!0;useUpperByDefault=!1;useNumbersByDefault=!1;useSpecialByDefault=!1;useLower=null;useUpper=null;useNumbers=null;useSpecial=null;setOfLower=new w("lower-set",e);setOfUpper=new w("upper-set",t);setOfNumbers=new w("numbers-set",s);setOfSpecial=new w("special-set",i);constructor(){this.passwordBuilder=new p,this.setLength=new h(document.querySelector(".set-length")),this.mainPassword=new a(document.querySelector(".main-password"),this.passwordBuilder),this.useLower=new u(document.querySelector(".use-lower")),this.useUpper=new c(document.querySelector(".use-upper")),this.useNumbers=new m(document.querySelector(".use-numbers")),this.useSpecial=new d(document.querySelector(".use-special")),this.passwordBuilder.setLength(this.defaultLength),this.setLength.setLength(this.defaultLength),this.setLength.getElement().addEventListener("change",(()=>{console.log("length changed"),this.passwordBuilder.setLength(this.setLength.getElement().value),this.mainPassword.setPassword(this.passwordBuilder.build())})),document.querySelectorAll(".predefined-length").forEach((e=>{e.addEventListener("click",(()=>{const t=e.innerHTML;this.passwordBuilder.setLength(t),this.setLength.setLength(t),this.mainPassword.renew()}))})),this.useLowerByDefault?this.useLower.markActive():this.useLower.markInactive(),this.useLower.getElement().addEventListener("click",(()=>{this.updateSetsToUse(),this.mainPassword.renew()})),this.useUpperByDefault?this.useUpper.markActive():this.useUpper.markInactive(),this.useUpper.getElement().addEventListener("click",(()=>{this.updateSetsToUse(),this.mainPassword.renew()})),this.useNumbersByDefault?this.useNumbers.markActive():this.useNumbers.markInactive(),this.useNumbers.getElement().addEventListener("click",(()=>{this.updateSetsToUse(),this.mainPassword.renew()})),this.useSpecialByDefault?this.useSpecial.markActive():this.useSpecial.markInactive(),this.useSpecial.getElement().addEventListener("click",(()=>{this.updateSetsToUse(),this.mainPassword.renew()})),this.updateSetsToUse(),this.mainPassword.renew()}updateSetsToUse(){this.useLower.active()?this.passwordBuilder.useSymbolsSet(this.setOfLower):this.passwordBuilder.doNotUseSymbolsSet(this.setOfLower),this.useUpper.active()?this.passwordBuilder.useSymbolsSet(this.setOfUpper):this.passwordBuilder.doNotUseSymbolsSet(this.setOfUpper),this.useNumbers.active()?this.passwordBuilder.useSymbolsSet(this.setOfNumbers):this.passwordBuilder.doNotUseSymbolsSet(this.setOfNumbers),this.useSpecial.active()?this.passwordBuilder.useSymbolsSet(this.setOfSpecial):this.passwordBuilder.doNotUseSymbolsSet(this.setOfSpecial)}}})();