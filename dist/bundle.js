(()=>{"use strict";const e=["a","b","c","d","e","f","g"],s=e.map((e=>e.toUpperCase())),t=["1","2","3","4"],o=["!","@","#","$","-","_"];class l{password="";symbolsToUse=[];symbolsToNotUse=[];length=16;constructor(s=16,o=[],l=[]){this.setLength(s),o.lenth?this.useSymbols(o):(this.useSymbols(e),this.useSymbols(t)),l.lenth&&this.doNotUseSymbols(l)}reset(){this.setLength(4),this.setSymbolsToUse([]),this.setSymbolsToNotUse([])}setSymbolsToUse(e){this.symbolsToUse=e}setSymbolsToNotUse(e){this.symbolsToNotUse=e}setLength(e){this.length=e}useSymbols(e){this.symbolsToUse=[...new Set(this.symbolsToUse.concat(e))]}doNotUseSymbols(e){this.symbolsToNotUse=[...new Set(this.symbolsToNotUse.concat(e))]}calcSymbolsToUse(){return this.symbolsToUse.filter((e=>!this.symbolsToNotUse.includes(e)))}build(){this.password=this.calcPassword()}calcPassword(){if(this.length<1||!this.symbolsToUse.length)return"";let e="";const s=this.calcSymbolsToUse();for(let t=1;t<=this.length;t++)e+=this.getRandomSymbol(s);return e}getPassword(){return this.password}getRandomSymbol(e){return e[Math.floor(Math.random()*e.length)]}}class i{element=null;parent=null;children={};constructor(e,s=null,t={}){this.element=e,this.parentComponent=s,this.childrenComponents=t}getElement(){return this.element}}class r{static UPDATED="UPDATED";static COPIED="COPIED"}class n extends i{password=null;constructor(e,s){super(e),this.password=s,this.password.getElement().addEventListener(r.UPDATED,(()=>this.setPassword(this.password.getPassword())))}setPassword(e){this.element.innerHTML=e}}class h extends i{password=null;passwordBuilder=null;passwordAsText=null;constructor(e,s){super(e),this.password=s,this.element.onclick=()=>this.password.renew()}}class a extends i{password=null;toCopySymbol="⎘";copiedSymbol="✅";constructor(e,s){super(e),this.password=s,this.element.innerHTML=this.toCopySymbol,this.element.onclick=()=>this.copy()}copy(){this.password.copy(),this.element.innerHTML=this.copiedSymbol,setTimeout((()=>this.element.innerHTML=this.toCopySymbol),500)}}class u{static copy(e){let s=document.createElement("input");s.value=e,s.select(),s.setSelectionRange(0,99999),navigator.clipboard.writeText(s.value),s.remove()}}class m extends i{password=null;constructor(e,s){super(e),this.password=s,this.element.addEventListener("change",(()=>{this.password.setLength(this.element.value)})),this.password.getElement().addEventListener(r.UPDATED,(()=>{this.element.value=this.password.getLength()}))}}class d extends i{password=null;constructor(e,s){super(e),this.password=s,this.element.onclick=()=>this.password.setLength(this.element.innerHTML)}}class c extends i{activatedCallback=()=>{};deactivatedCallback=()=>{};constructor(e,s=!1,t=(()=>{}),o=(()=>{})){super(e),s&&this.markActive(),this.activatedCallback=t,this.deactivatedCallback=o,this.element.addEventListener("click",(()=>{this.toggle(),this.element.dispatchEvent(new Event("changed"))}))}getElement(){return this.element}markActive(){this.element.classList.add("active"),this.activatedCallback()}markInactive(){this.element.classList.remove("active"),this.deactivatedCallback()}active(){return this.element.classList.contains("active")}toggle(){this.active()?this.markInactive():this.markActive()}}class p{name="";items=[];constructor(e,s=[]){this.name=e,this.items=s}getName(){return this.name()}getRandomSymbol(){return this.items.length?this.items[Math.floor(Math.random()*this.items.length)]:""}}window.mainPassword=new class extends i{length=8;customLength=null;passwordAsTextComponent=null;passwordBuilder=null;copyButton=null;renewButton=null;useLowerByDefault=!0;useUpperByDefault=!0;useNumbersByDefault=!0;useSpecialByDefault=!0;useLower=null;useUpper=null;useNumbers=null;useSpecial=null;setOfLower=new p("lower-set",e);setOfUpper=new p("upper-set",s);setOfNumbers=new p("numbers-set",t);setOfSpecial=new p("special-set",o);constructor(e,s){super(e),this.passwordBuilder=s,this.passwordAsTextComponent=new n(this.element.querySelector(".password-as-text"),this),this.copyButton=new a(this.element.querySelector(".copy"),this),this.renewButton=new h(this.element.querySelector(".renew"),this),this.customLength=new m(this.element.querySelector(".custom-length"),this),this.predefinedLength4=new d(this.element.querySelector(".pl4"),this),this.predefinedLength8=new d(this.element.querySelector(".pl8"),this),this.predefinedLength12=new d(this.element.querySelector(".pl12"),this),this.predefinedLength16=new d(this.element.querySelector(".pl16"),this),this.predefinedLength24=new d(this.element.querySelector(".pl24"),this),this.predefinedLength32=new d(this.element.querySelector(".pl32"),this),this.useLowerByDefault&&this.useLowerSymbolSet(),this.useUpperByDefault&&this.useUpperSymbolSet(),this.useNumbersByDefault&&this.useNumbersSymbolSet(),this.useSpecialByDefault&&this.useSpecialSymbolSet(),this.useLower=new c(document.querySelector(".use-lower"),this.useLowerByDefault,(()=>this.useLowerSymbolSet()),(()=>this.doNotUseLowerSymbolSet())),this.useUpper=new c(document.querySelector(".use-upper"),this.useUpperByDefault,(()=>this.useUpperSymbolSet()),(()=>this.doNotUseUpperSymbolSet())),this.useNumbers=new c(document.querySelector(".use-numbers"),this.useNumbersByDefault,(()=>this.useNumbersSymbolSet()),(()=>this.doNotUseNumbersSymbolSet())),this.useSpecial=new c(document.querySelector(".use-special"),this.useSpecialByDefault,(()=>this.useSpecialSymbolSet()),(()=>this.doNotUseSpecialSymbolSet())),this.passwordBuilder.setLength(this.length),this.renew()}useLowerSymbolSet(){this.passwordBuilder.useSymbolsSet(this.setOfLower),this.renew()}doNotUseLowerSymbolSet(){this.passwordBuilder.doNotUseSymbolsSet(this.setOfLower),this.renew()}useUpperSymbolSet(){this.passwordBuilder.useSymbolsSet(this.setOfUpper),this.renew()}doNotUseUpperSymbolSet(){this.passwordBuilder.doNotUseSymbolsSet(this.setOfUpper),this.renew()}useNumbersSymbolSet(){this.passwordBuilder.useSymbolsSet(this.setOfNumbers),this.renew()}doNotUseNumbersSymbolSet(){this.passwordBuilder.doNotUseSymbolsSet(this.setOfNumbers),this.renew()}useSpecialSymbolSet(){this.passwordBuilder.useSymbolsSet(this.setOfSpecial),this.renew()}doNotUseSpecialSymbolSet(){this.passwordBuilder.doNotUseSymbolsSet(this.setOfSpecial),this.renew()}getPassword(){return this.passwordBuilder.getPassword()}renew(){this.passwordBuilder.build(),this.element.dispatchEvent(new CustomEvent(r.UPDATED))}copy(){u.copy(this.getPassword()),this.element.dispatchEvent(new CustomEvent(r.COPIED))}getLength(){return this.length}setLength(e){this.length=e,this.passwordBuilder.setLength(this.length),this.renew()}}(document.querySelector(".main-password"),new class extends l{setsToUse=[];constructor(){super()}reset(){super.reset(),this.setsToUse=[]}useSymbolsSet(e){this.setsToUse.includes(e)||this.setsToUse.push(e)}doNotUseSymbolsSet(e){this.setsToUse.includes(e)&&this.setsToUse.splice(this.setsToUse.indexOf(e),1)}calcPassword(){if(!this.setsToUse.length||this.length<1)return"";let e=[];for(let s=0;s<this.length;s++)e.push(this.getRandomSet().getRandomSymbol());let s=[];if(e.map(((e,t)=>{s.push(t)})),this.setsToUse.length)for(;s.length;)this.setsToUse.map((t=>{if(s.length<1)return;s=s.sort((()=>Math.random()-.5));let o=s[0];s.splice(0,1);let l=t.getRandomSymbol();e[o]=l}));return e.join("")}getRandomIndex(e){return e[Math.floor(Math.random()*e.length)]}getRandomSet(){return this.setsToUse[Math.floor(Math.random()*this.setsToUse.length)]}})})();